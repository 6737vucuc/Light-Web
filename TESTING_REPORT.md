# ุชูุฑูุฑ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู - Light of Life Project

## ๐ ููุฎุต ุงูุงุฎุชุจุงุฑ

ุชู ุชุดุบูู ุงููุดุฑูุน ูุญููุงู ุนูู `http://localhost:3000` ูุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุชุงููุฉ:

### โ ุงูููุฒุงุช ุงูุชู ุชุนูู ุจูุฌุงุญ

1. **ุชุณุฌูู ุงูุฏุฎูู**: ูุนูู ุจุดูู ุตุญูุญ
2. **ุตูุญุฉ Community**: ุชุนูู ุจุดูู ุตุญูุญ
3. **ุตูุญุฉ Messages**: ุชุนูู ูุชุนุฑุถ ุงููุญุงุฏุซุงุช
4. **ูุชุญ ุงููุญุงุฏุซุงุช**: ูุนูู ุจุดูู ุตุญูุญ
5. **ุนุฑุถ ุงูุฑุณุงุฆู ุงูุณุงุจูุฉ**: ูุนูู ุจุดูู ุตุญูุญ

### โ ุงููุดุงูู ุงูููุชุดูุฉ

#### 1. ูุดููุฉ ุงูููุงููุงุช ุงูุตูุชูุฉ

**ุงูุฎุทุฃ:**
```
Call Failed - No microphone found. Please connect a microphone and try again.
```

**ุงูุณุจุจ:**
- ุงูููุฏ ูุทูุจ ุฅุฐู ุงููููุฑูููู ูุจู ุจุฏุก ุงูููุงููุฉ
- ูู ุจูุฆุฉ Sandbox (ุจุฏูู ูููุฑูููู ูุนูู)ุ ููุดู ุงูุทูุจ
- ุงูุฎุทุฃ ูู Console:
  ```
  Permissions policy violation: microphone is not allowed in this document.
  Microphone permission error: NotFoundError: Requested device not found
  ```

**ุงูุญู ุงูููุชุฑุญ:**
1. ุฌุนู ุทูุจ ุฅุฐู ุงููููุฑูููู ุงุฎุชูุงุฑูุงู ูู ุจูุฆุฉ ุงูุชุทููุฑ
2. ุงูุณูุงุญ ุจุงูููุงููุฉ ุญุชู ูู ูู ูุชู ุงูุนุซูุฑ ุนูู ูููุฑูููู (ููุงุฎุชุจุงุฑ)
3. ุนูู ุงูููุจุงูู ุงูุญููููุ ุณูุนูู ุจุดูู ุทุจูุนู

#### 2. ูุดููุฉ ุฅุฑุณุงู ุงูุตูุฑ

**ุงูุฎุทุฃ:**
```
Failed to send message
```

**ุงูุณุจุจ ุงููุญุชูู:**
- ูุดููุฉ ูู ุฑูุน ุงูุตูุฑุฉ ุฅูู Cloudinary
- ุฃู ูุดููุฉ ูู validation ุนูู API

**ุงูุญู:**
- ุชู ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุฃูุถู
- ูุฌุจ ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ ุนูู Production

#### 3. ุฃุฎุทุงุก ุฃุฎุฑู ูู Console

```
Failed to load resource: the server responded with a status of 401 (Unauthorized)
Failed to load resource: the server responded with a status of 500 (Internal Server Error)
WebSocket connection to 'wss://ws-us2.pusher.com/...' failed
```

**ุงูุณุจุจ:**
- ูุดุงูู ูู Pusher (Real-time notifications)
- ูุฏ ุชููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุบูุฑ ุตุญูุญุฉ ูุญููุงู

---

## ๐ง ุงูุฅุตูุงุญุงุช ุงููุทููุจุฉ

### 1. ุฅุตูุงุญ ุงูููุงููุงุช ุงูุตูุชูุฉ

**ุงูููุฏ ุงูุญุงูู:**
```typescript
// Request microphone permission first
try {
  const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
  console.log('Microphone permission granted');
  stream.getTracks().forEach(track => track.stop());
} catch (permError: any) {
  console.error('Microphone permission error:', permError);
  if (permError.name === 'NotAllowedError') {
    throw new Error('Microphone access denied...');
  } else if (permError.name === 'NotFoundError') {
    throw new Error('No microphone found...');
  }
}
```

**ุงูุญู:**
- ุฅุฒุงูุฉ ุทูุจ ุฅุฐู ุงููููุฑูููู ุงููุณุจู
- ุชุฑู LiveKit ูุชุนุงูู ูุน ุงูุฃุฐููุงุช ุชููุงุฆูุงู
- LiveKit ุณูุทูุจ ุงูุฅุฐู ุนูุฏ ุงูุญุงุฌุฉ ููุท

### 2. ุฅุตูุงุญ ุฅุฑุณุงู ุงูุตูุฑ

**ุงูููุฏ ุงููุญุฏุซ:**
```typescript
if (selectedImage) {
  const formData = new FormData();
  formData.append('file', selectedImage);

  const uploadResponse = await fetch('/api/upload', {
    method: 'POST',
    body: formData,
  });

  if (uploadResponse.ok) {
    const uploadData = await uploadResponse.json();
    mediaUrl = uploadData.url;
  } else {
    const uploadError = await uploadResponse.json();
    console.error('Upload failed:', uploadError);
    alert(uploadError.error || 'Failed to upload image');
    return; // Stop if upload fails
  }
}
```

**ุงูุญู:**
- ุชู ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุฃูุถู
- ูุนุฑุถ ุฑุณุงูุฉ ุงูุฎุทุฃ ุงูุฏูููุฉ ูู API

### 3. ุฅูุบุงุก ููุฒุฉ Video Call

**ุงููุทููุจ:**
- ุฅุฒุงูุฉ ุฃููููุฉ Video Call ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุงูุฅุจูุงุก ููุท ุนูู Audio Call

---

## ๐ ุงูุชูุตูุงุช

### ููุงุฎุชุจุงุฑ ุนูู Production

1. **ุงุฎุชุจุงุฑ ุงูููุงููุงุช ุงูุตูุชูุฉ:**
   - ุงูุชุญ ุงููููุน ุนูู ููุจุงูู ุญูููู
   - ุชุฃูุฏ ูู ุงูุณูุงุญ ุจุฅุฐู ุงููููุฑูููู
   - ุฌุฑุจ ุงูููุงููุฉ ุจูู ูุณุชุฎุฏููู

2. **ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุตูุฑ:**
   - ุฌุฑุจ ุฅุฑุณุงู ุตูุฑุฉ ุจุฏูู ูุต
   - ุฌุฑุจ ุฅุฑุณุงู ุตูุฑุฉ ูุน ูุต
   - ุชุญูู ูู ุฑูุน ุงูุตูุฑุฉ ุฅูู Cloudinary

3. **ุงุฎุชุจุงุฑ Pusher (Real-time):**
   - ุชุญูู ูู ุฃู Pusher ูุนูู ุนูู Production
   - ุงุฎุชุจุฑ ุฅุดุนุงุฑุงุช ุงูุฑุณุงุฆู ุงูููุฑูุฉ
   - ุงุฎุชุจุฑ typing indicator

### ููุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. **Toast Notifications:**
   - ุงุณุชุจุฏุงู ุฌููุน `alert()` ุจู Toast notifications
   - ุชู ุฅูุดุงุก ุงูููุฏ ููู ูู ูุชู ุชุทุจููู ุจุนุฏ

2. **ุญุงูุฉ ุงูุชูุตูู (Delivered):**
   - ุชู ุฅุถุงูุฉ ุญูู `deliveredAt` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุญุชุงุฌ ุฅูู ุชุทุจูู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

3. **ุฅุดุนุงุฑ ุงููุชุงุจุฉ (Typing Indicator):**
   - API ุฌุงูุฒ
   - ูุญุชุงุฌ ุฅูู ุชุทุจูู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. โ ุฅุตูุงุญ ูุดููุฉ ุงูููุงููุงุช (ุฅุฒุงูุฉ ุทูุจ ุงููููุฑูููู ุงููุณุจู)
2. โ ุฅูุบุงุก ููุฒุฉ Video Call
3. โณ ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุตูุฑ ุนูู Production
4. โณ ุชุทุจูู Toast Notifications
5. โณ ุชุทุจูู Delivered status
6. โณ ุชุทุจูู Typing indicator

---

## ๐ ุงูููุฎุต ุงูููุงุฆู

| ุงูููุฒุฉ | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|--------|--------|-----------|
| ุชุณุฌูู ุงูุฏุฎูู | โ ูุนูู | ูุง ูุดุงูู |
| ุงูุฑุณุงุฆู ุงููุตูุฉ | โ ูุนูู | ูุง ูุดุงูู |
| ุฅุฑุณุงู ุงูุตูุฑ | โ๏ธ ูุญุชุงุฌ ุงุฎุชุจุงุฑ | ุชู ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก |
| ุงูููุงููุงุช ุงูุตูุชูุฉ | โ ูุญุชุงุฌ ุฅุตูุงุญ | ูุดููุฉ ุทูุจ ุงููููุฑูููู |
| ุงูููุงููุงุช ุงููุฑุฆูุฉ | ๐ซ ุณูุชู ุฅูุบุงุคูุง | ุญุณุจ ุทูุจ ุงููุณุชุฎุฏู |
| Toast Notifications | โณ ููุฏ ุงูุชุทููุฑ | ุงูููุฏ ุฌุงูุฒ |
| Delivered Status | โณ ููุฏ ุงูุชุทููุฑ | Database ready |
| Typing Indicator | โณ ููุฏ ุงูุชุทููุฑ | API ready |

---

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 2025-11-03  
**ุงูุจูุฆุฉ:** Local Development (localhost:3000)  
**ุงููุชุตูุญ:** Chromium
