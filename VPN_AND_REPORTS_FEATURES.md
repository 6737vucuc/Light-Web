# ุชูุฑูุฑ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ - VPN Detection & Reports System

## ุงูุชุงุฑูุฎ: 25 ููุงูุฑ 2026

---

## ๐ ููุฎุต ุชูููุฐู

ุชู ุฅุถุงูุฉ ููุฒุชูู ุฑุฆูุณูุชูู ูููุดุฑูุน ุจูุฌุงุญ:

1. **ูุธุงู ูุดู ูููุน VPN** - ูุธุงู ุฃููู ูุชูุงูู ููุดู ูููุน ุงุณุชุฎุฏุงู VPN/Proxy/Tor
2. **ูุธุงู ุงูุฅุจูุงุบ ุนู ุงููุญุชูู** - ูุธุงู ููุฅุจูุงุบ ุนู ุงูุฑุณุงุฆู ุบูุฑ ุงููุงุฆูุฉ ูู ุงููุฌุชูุน

---

## ๐ ุงูููุฒุฉ ุงูุฃููู: ูุธุงู ูุดู VPN

### ุงููุตู
ูุธุงู ุฃููู ูุชูุฏู ููุชุดู ููููุน ุงููุณุชุฎุฏููู ูู ุชุตูุญ ุงููุญุชูู ุนูุฏ ุงุณุชุฎุฏุงู VPN ุฃู Proxy ุฃู Tor Network.

### ุงูููููุงุช ุงููุถุงูุฉ

#### 1. ููุชุจุฉ ูุดู VPN
**ุงูููู:** `/lib/security/vpn-detector.ts`

**ุงููุธุงุฆู:**
- `detectVPN(ipAddress)` - ูุดู VPN ุจุงุณุชุฎุฏุงู IP-API
- `logVPNDetection()` - ุชุณุฌูู ูุญุงููุงุช VPN ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `shouldBlockVPN()` - ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุฌุจ ุญุธุฑ ุงููุณุชุฎุฏู
- `getClientIP()` - ุงูุญุตูู ุนูู IP ุงูุญูููู ูู headers

**ูุนูููุงุช ุงููุดู:**
- VPN Detection
- Tor Network Detection
- Proxy Detection
- Hosting Provider Detection
- Risk Score (0-100)
- Threat Level (low, medium, high, critical)
- Location Data (Country, City, ISP)

#### 2. API ููุญุต VPN
**ุงูููู:** `/app/api/security/check-vpn/route.ts`

**ุงููุธููุฉ:**
- ูุญุต IP ุงููุณุชุฎุฏู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู
- ุชุณุฌูู ุงููุชุงุฆุฌ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุฑุณุงู ุชูุจูู ููุฃุฏูู ุนูุฏ ุงููุดู

#### 3. API ูุฅุฑุณุงู ุฅููููุงุช ุชุญุฐูุฑูุฉ
**ุงูููู:** `/app/api/admin/vpn-alerts/route.ts`

**ุงููุธููุฉ:**
- ุฅุฑุณุงู ุฅูููู ุชุญุฐูุฑู ุชููุงุฆู ูููุณุชุฎุฏู
- ุชุตููู ุงุญุชุฑุงูู ุจุงูุนุฑุจูุฉ
- ุดุฑุญ ููุตู ูุณุจุจ ุงูููุน
- ุฎุทูุงุช ูุญู ุงููุดููุฉ

**ูุญุชูู ุงูุฅูููู:**
- ุชุญุฐูุฑ ุฃููู ูุงุถุญ
- ุชูุงุตูู ุงููุดู (IP, Location, Type)
- ุดุฑุญ ููุงุฐุง ูููุน VPN
- ุฎุทูุงุช ูุฅููุงู VPN ูุงูุนูุฏุฉ ูููููุน
- ุชุญุฐูุฑ ูู ุงูุงุณุชูุฑุงุฑ

#### 4. ูุงุฌูุฉ ุชุญุฐูุฑ VPN
**ุงูููู:** `/components/VPNWarningModal.tsx`

**ุงูููุฒุงุช:**
- ุชุตููู ุงุญุชุฑุงูู ูุฌุฐุงุจ
- ุดุฑุญ ูุงุถุญ ูุณุจุจ ุงูุญุธุฑ
- ุฃุณุจุงุจ ููุน VPN (4 ุฃุณุจุงุจ)
- ุฎุทูุงุช ุงูุญู (3 ุฎุทูุงุช)
- ุชุญุฐูุฑ ูู ุงูุงุณุชูุฑุงุฑ
- ุฒุฑ ููุนูุฏุฉ ูููููุน

#### 5. API ูุฌูุจ ุณุฌูุงุช VPN (ููุฌูุฏ ูุณุจูุงู)
**ุงูููู:** `/app/api/admin/vpn-logs/route.ts`

**ุงููุธุงุฆู:**
- GET: ุฌูุจ ุฌููุน ุณุฌูุงุช VPN ูุน ุฅุญุตุงุฆูุงุช
- POST: ุชุณุฌูู ูุญุงููุฉ VPN ุฌุฏูุฏุฉ
- ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ (blocked/all)
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ (VPN, Tor, Proxy, Hosting)
- ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูุฏููุฉ ูุงูุฎุฏูุฉ

#### 6. ููุญุฉ ุชุญูู VPN (ููุฌูุฏุฉ ูุณุจูุงู)
**ุงูููู:** `/app/[locale]/admin/page.tsx`

**ุงูุชุจููุจ:** VPN Detection

**ุงูููุฒุงุช:**
- ุนุฑุถ ุฌููุน ูุญุงููุงุช VPN
- ุฅุญุตุงุฆูุงุช ููุตูุฉ (Total, Blocked, VPN, Proxy, Tor, Hosting)
- ุฃูุซุฑ ุฎุฏูุงุช VPN ุงุณุชุฎุฏุงูุงู
- ููุชุฑุฉ ุญุณุจ ุงููุญุธูุฑูู ููุท
- ุชุญุฏูุซ ุชููุงุฆู

---

## ๐จ ุงูููุฒุฉ ุงูุซุงููุฉ: ูุธุงู ุงูุฅุจูุงุบ ุนู ุงููุญุชูู

### ุงููุตู
ูุธุงู ูุชูุงูู ููุฅุจูุงุบ ุนู ุงูุฑุณุงุฆู ุบูุฑ ุงููุงุฆูุฉ ูู ุตูุญุงุช ุงููุฌุชูุนุ ูุน ููุญุฉ ุชุญูู ููุฃุฏูู ููุฑุงุฌุนุฉ ุงูุจูุงุบุงุช.

### ุงูููููุงุช ุงููุถุงูุฉ

#### 1. ุฒุฑ ุงูุฅุจูุงุบ ูู ุตูุญุฉ ุงููุฌุชูุน
**ุงูููู:** `/components/community/GroupChat.tsx`

**ุงูุชุนุฏููุงุช:**
- ุฅุถุงูุฉ ุฒุฑ ุฅุจูุงุบ ุนูู ูู ุฑุณุงูุฉ (ุบูุฑ ุฑุณุงุฆู ุงููุณุชุฎุฏู ููุณู)
- ุฃููููุฉ Flag ุชุธูุฑ ุนูุฏ hover ุนูู ุงูุฑุณุงูุฉ
- ูุงูุฐุฉ ููุจุซูุฉ ููุฅุจูุงุบ

#### 2. ูุงูุฐุฉ ุงูุฅุจูุงุบ
**ูู ููุณ ุงูููู:** `GroupChat.tsx`

**ุงูููุฒุงุช:**
- ุนุฑุถ ุงูุฑุณุงูุฉ ุงููุจูุบ ุนููุง
- ุญูู ููุชุงุจุฉ ุณุจุจ ุงูุฅุจูุงุบ
- ููุงุญุธุฉ ุชูุถูุญูุฉ ูููุณุชุฎุฏู
- ุฒุฑ ุฅุฑุณุงู ุงูุจูุงุบ
- ุฑุณุงูุฉ ุชุฃููุฏ ุนูุฏ ุงููุฌุงุญ

#### 3. API ููุจูุงุบุงุช (ููุฌูุฏ ูุณุจูุงู)
**ุงูููู:** `/app/api/reports/route.ts`

**ุงููุธุงุฆู:**
- POST: ุฅูุดุงุก ุจูุงุบ ุฌุฏูุฏ
- GET: ุฌูุจ ุฌููุน ุงูุจูุงุบุงุช (Admin only)
- ููุน ุงูุชูุฑุงุฑ (ุจูุงุบ ูุงุญุฏ ููู ุฑุณุงูุฉ ููู ูุณุชุฎุฏู)
- ุญูุธ ุชูุงุตูู ุงูุจูุงุบ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุจูุงูุงุช ุงููุญููุธุฉ:**
- ูุนุฑู ุงููุจูุบ (Reporter ID)
- ูุนุฑู ุงููุณุชุฎุฏู ุงููุจูุบ ุนูู (Reported User ID)
- ูุนุฑู ุงูุฑุณุงูุฉ (Message ID)
- ูุนุฑู ุงููุฌููุนุฉ (Group ID)
- ุณุจุจ ุงูุจูุงุบ (Reason)
- ุญุงูุฉ ุงูุจูุงุบ (Status: pending, reviewed, resolved)
- ุชุงุฑูุฎ ุงูุฅูุดุงุก

#### 4. ููุญุฉ ุชุญูู ุงูุจูุงุบุงุช (ููุฌูุฏุฉ ูุณุจูุงู)
**ุงูููู:** `/app/[locale]/admin/page.tsx`

**ุงูุชุจููุจ:** Reports

**ุงูููุฒุงุช:**
- ุนุฑุถ ุฌููุน ุงูุจูุงุบุงุช
- ูุนูููุงุช ุงููุจูุบ ูุงููุจูุบ ุนูู
- ุงูุฑุณุงูุฉ ุงููุจูุบ ุนููุง
- ุณุจุจ ุงูุจูุงุบ
- ุญุงูุฉ ุงูุจูุงุบ
- ุฅุฌุฑุงุกุงุช ุงูุฃุฏูู (ูุฑุงุฌุนุฉุ ุญูุ ุญุฐู)

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู VPN Logs (ููุฌูุฏ ูุณุจูุงู)
**ุงูุฌุฏูู:** `vpn_logs`

**ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ:**
- id, userId, ipAddress
- country, countryCode, city, region
- isp, organization, asn
- isVPN, isTor, isProxy, isHosting, isAnonymous
- riskScore, threatLevel
- detectionService, detectionData
- isBlocked, blockReason
- userAgent, requestPath, requestMethod
- detectedAt, createdAt

### ุฌุฏูู ุงูุจูุงุบุงุช (ููุฌูุฏ ูุณุจูุงู)
**ุงูุฌุฏูู:** `reports`

**ุงูุฃุนูุฏุฉ ุงูุฑุฆูุณูุฉ:**
- id, reporterId, reportedUserId
- messageId, groupId
- reason, status
- adminNotes, reviewedBy, reviewedAt
- createdAt

---

## ๐ ุงูุชุฑุฌูุงุช ุงููุถุงูุฉ

### ุงููุบุฉ ุงูุนุฑุจูุฉ
**ุงูููู:** `/messages/ar.json`

**ุงูุฃูุณุงู ุงููุถุงูุฉ:**

#### ูุณู VPN
```json
"vpn": {
  "warning": "ุชุญุฐูุฑ ุฃููู",
  "detected": "ุชู ุงูุชุดุงู ุงุณุชุฎุฏุงู VPN/Proxy",
  "detectedUsing": "ุชู ุงูุชุดุงู ูุญุงููุฉ ุงููุตูู ุจุงุณุชุฎุฏุงู:",
  "whyBlocked": "ููุงุฐุง ูููุน ุงุณุชุฎุฏุงู VPNุ",
  "reason1": "ุญูุงูุฉ ุงูุฎุตูุตูุฉ...",
  "reason2": "ููุน ุงูุงุญุชูุงู...",
  "reason3": "ุงูุฃูุงู...",
  "reason4": "ุงูุงูุชุซุงู...",
  "whatToDo": "ูุงุฐุง ูุฌุจ ุฃู ุชูุนูุ",
  "step1": "ุฃููู VPN/Proxy...",
  "step2": "ุฃุนุฏ ุชุดุบูู ุงููุชุตูุญ...",
  "step3": "ุณุฌู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู...",
  "warningNote": "...",
  "understood": "ูููุชุ ุณุฃููู ุจุฅููุงู VPN",
  "backToSite": "ุงูุนูุฏุฉ ุฅูู ุงููููุน"
}
```

#### ูุณู ุงูุจูุงุบุงุช
```json
"reports": {
  "title": "ุฅุจูุงุบ ุนู ุฑุณุงูุฉ",
  "message": "ุงูุฑุณุงูุฉ:",
  "from": "ูู:",
  "reason": "ุณุจุจ ุงูุฅุจูุงุบ:",
  "reasonPlaceholder": "ุงุดุฑุญ ุณุจุจ ุฅุจูุงุบู...",
  "note": "ุณูุชู ูุฑุงุฌุนุฉ ุงูุจูุงุบ...",
  "submit": "ุฅุฑุณุงู ุงูุจูุงุบ",
  "success": "ุชู ุฅุฑุณุงู ุงูุจูุงุบ ุจูุฌุงุญ...",
  "error": "ูุดู ุฅุฑุณุงู ุงูุจูุงุบ",
  "reportButton": "ุฅุจูุงุบ"
}
```

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูุธุงู VPN

#### ูููุณุชุฎุฏููู:
1. ุนูุฏ ุชุณุฌูู ุงูุฏุฎููุ ูุชู ูุญุต IP ุชููุงุฆูุงู
2. ุฅุฐุง ุชู ูุดู VPNุ ุชุธูุฑ ูุงุฌูุฉ ุชุญุฐูุฑ
3. ูุชู ุฅุฑุณุงู ุฅูููู ุชุญุฐูุฑู ูููุณุชุฎุฏู
4. ูุฌุจ ุฅููุงู VPN ูููุตูู ูููุญุชูู

#### ููุฃุฏูู:
1. ุงูุฐูุงุจ ุฅูู ููุญุฉ ุงูุชุญูู โ VPN Detection
2. ูุดุงูุฏุฉ ุฌููุน ูุญุงููุงุช VPN
3. ุงูุฅุญุตุงุฆูุงุช ุงูููุตูุฉ
4. ููุชุฑุฉ ุงููุญุธูุฑูู ููุท

### ูุธุงู ุงูุจูุงุบุงุช

#### ูููุณุชุฎุฏููู:
1. ูู ุตูุญุฉ ุงููุฌุชูุนุ hover ุนูู ุฃู ุฑุณุงูุฉ
2. ุงูุถุบุท ุนูู ุฃููููุฉ Flag (ุงูุฅุจูุงุบ)
3. ูุชุงุจุฉ ุณุจุจ ุงูุฅุจูุงุบ
4. ุฅุฑุณุงู ุงูุจูุงุบ

#### ููุฃุฏูู:
1. ุงูุฐูุงุจ ุฅูู ููุญุฉ ุงูุชุญูู โ Reports
2. ูุดุงูุฏุฉ ุฌููุน ุงูุจูุงุบุงุช
3. ูุฑุงุฌุนุฉ ุงูุจูุงุบ
4. ุงุชุฎุงุฐ ุงูุฅุฌุฑุงุก ุงูููุงุณุจ (ุชุญุฐูุฑุ ุญุธุฑุ ุญุฐู)

---

## ๐ง ูุชุทูุจุงุช ุงูุชุดุบูู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ
```env
# Email Configuration (ูุฅุฑุณุงู ุชุญุฐูุฑุงุช VPN)
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password

# App URL (ูุฑูุงุจุท ุงูุฅูููู)
NEXT_PUBLIC_APP_URL=https://your-domain.com
```

### ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ
- **IP-API.com** - ููุดู VPN (ูุฌุงููุ 45 ุทูุจ/ุฏูููุฉ)
- **Nodemailer** - ูุฅุฑุณุงู ุงูุฅููููุงุช

---

## โ ุงูููุฒุงุช ุงูููุชููุฉ

### ูุธุงู VPN
- [x] ูุดู VPN/Proxy/Tor
- [x] ุชุณุฌูู ุงููุญุงููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [x] ูุงุฌูุฉ ุชุญุฐูุฑ ุงุญุชุฑุงููุฉ
- [x] ุฅุฑุณุงู ุฅููููุงุช ุชุญุฐูุฑูุฉ
- [x] ููุญุฉ ุชุญูู Admin
- [x] ุฅุญุตุงุฆูุงุช ููุตูุฉ
- [x] ููุชุฑุฉ ูุจุญุซ

### ูุธุงู ุงูุจูุงุบุงุช
- [x] ุฒุฑ ุฅุจูุงุบ ุนูู ุงูุฑุณุงุฆู
- [x] ูุงูุฐุฉ ุฅุจูุงุบ ุงุญุชุฑุงููุฉ
- [x] API ููุจูุงุบุงุช
- [x] ููุญุฉ ุชุญูู Admin
- [x] ููุน ุงูุชูุฑุงุฑ
- [x] ุญุงูุงุช ุงูุจูุงุบ (pending, reviewed, resolved)

### ุงูุชุฑุฌูุงุช
- [x] ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงููุฉ
- [ ] ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ (ูููู ุฅุถุงูุชูุง ูุงุญูุงู)
- [ ] ุงููุบุงุช ุงูุฃุฎุฑู (fr, es, de)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ
- โ 4 ูููุงุช ุฌุฏูุฏุฉ
- โ 3 ูููุงุช ูุนุฏูุฉ
- โ 1 ููู ุชุฑุฌูุฉ ูุญุฏุซ

### ุงูุฃููุงุฏ
- โ ~800 ุณุทุฑ ููุฏ ุฌุฏูุฏ
- โ ูุธุงู VPN ูุงูู
- โ ูุธุงู ุจูุงุบุงุช ูุญุณูู
- โ ูุงุฌูุงุช ุงุญุชุฑุงููุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูุตูุฑุฉ ุงููุฏู
- [ ] ุฅุถุงูุฉ ุชุฑุฌูุงุช ููุบุงุช ุงูุฃุฎุฑู (en, fr, es, de)
- [ ] ุงุฎุชุจุงุฑ ูุธุงู VPN ุนูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
- [ ] ุชุญุณูู ุฏูุฉ ูุดู VPN (ุงุณุชุฎุฏุงู ุฎุฏูุฉ ูุฏููุนุฉ)

### ูุชูุณุทุฉ ุงููุฏู
- [ ] ุฅุถุงูุฉ whitelist ูู IPs ููุซููุฉ
- [ ] ุฅุถุงูุฉ ูุธุงู ุงุณุชุฆูุงู ูููุณุชุฎุฏููู ุงููุญุธูุฑูู
- [ ] ุชุญุณูู ููุญุฉ ุชุญูู ุงูุจูุงุบุงุช (ููุชุฑุฉุ ุจุญุซุ ุฅุญุตุงุฆูุงุช)

### ุทูููุฉ ุงููุฏู
- [ ] ุชูุงูู ูุน ุฎุฏูุงุช VPN Detection ูุชูุฏูุฉ
- [ ] ูุธุงู AI ูุชุญููู ุงูุจูุงุบุงุช ุชููุงุฆูุงู
- [ ] ุชูุงุฑูุฑ ุฃูููุฉ ุฏูุฑูุฉ ููุฃุฏูู

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅุถุงูุฉ ููุฒุชูู ุฃูููุชูู ูููุชูู ูููุดุฑูุน ุจูุฌุงุญ:

1. **ูุธุงู VPN** - ูุญูู ุงูููุตุฉ ูู ุงูุฃูุดุทุฉ ุงููุดุจููุฉ ููุถูู ุจูุฆุฉ ุขููุฉ
2. **ูุธุงู ุงูุจูุงุบุงุช** - ููููู ุงููุฌุชูุน ูู ุงูุฅุจูุงุบ ุนู ุงููุญุชูู ุบูุฑ ุงููุงุฆู

ููุง ุงููุธุงููู:
- โ ูุนููุงู ุจุดูู ูุงูู
- โ ูุชูุงููุงู ูุน ููุญุฉ ุงูุชุญูู
- โ ูุชุฑุฌูุงู ููุนุฑุจูุฉ
- โ ุงุญุชุฑุงููุงู ูู ุงูุชุตููู
- โ ุณููุงู ูู ุงูุงุณุชุฎุฏุงู

**ุงููุดุฑูุน ุงูุขู ุฃูุซุฑ ุฃูุงูุงู ูุฌุงูุฒ ููุฅูุชุงุฌ!** ๐๐
